# Install Updated Extension

## The Fix

The updated extension now correctly finds the generated SVG files from the `render-dsl-to-svg.cmd` script.

## Installation Steps

### Option 1: Install from VSIX (Recommended)

1. **Uninstall the old extension:**
   - Open VSCode
   - Go to Extensions (Ctrl+Shift+X)
   - Find "SO Workspace" extension
   - Click the gear icon → Uninstall
   - **Reload VSCode** (important!)

2. **Install the new VSIX:**
   - In VSCode, press `Ctrl+Shift+P`
   - Type: "Extensions: Install from VSIX"
   - Select the file: `so-vsix-1.1.0.vsix` (in your workspace root)
   - Wait for installation to complete
   - **Reload VSCode** when prompted

3. **Verify the fix:**
   - Ensure Docker is running
   - Run command: "SO: 3-03 Render Diagrams"
   - Check output - should show all 6 files successful

### Option 2: Install via Command Line

```powershell
# Uninstall old version
code --uninstall-extension architecture-team.so-vsix

# Install new version
code --install-extension so-vsix-1.1.0.vsix

# Reload VSCode
```

## Expected Result

After installing the updated extension, when you run "SO: 3-03 Render Diagrams":

```
================================================================================
Diagram Rendering Started
================================================================================
Total files to process: 6
Rendering Backend Availability:
  Structurizr Pipeline: Available

[1/6] Processing: seq\book_activity.mmd (Mermaid)
[2/6] Processing: seq\discover_activity.mmd (Mermaid)
[3/6] Processing: seq\manage_booking.mmd (Mermaid)
[4/6] Processing: seq\notifications.mmd (Mermaid)
[5/6] Processing: c4_container.dsl (Structurizr DSL)
[6/6] Processing: c4_context.dsl (Structurizr DSL)

================================================================================
Rendering Complete
================================================================================
Total files: 6
Successful: 6  ✅ (was 4 before)
Failed: 0      ✅ (was 2 before)
```

## What Changed

The extension now:
- Uses the correct output directory: `docs/03_architecture/diagrams/out`
- Finds the SVG files generated by the script
- No longer throws "No views were generated" error

## Troubleshooting

### If you still see the error:

1. **Verify you uninstalled the old extension:**
   ```powershell
   code --list-extensions | Select-String "so-vsix"
   ```
   Should show: `architecture-team.so-vsix@1.1.0`

2. **Check the extension path:**
   - The old path was: `.vscode\extensions\architecture-team.so-vsix-1.1.0\`
   - After reinstall, it should still be there but with updated files

3. **Force reload:**
   - Close ALL VSCode windows
   - Reopen VSCode
   - Try the command again

4. **Verify the fix is in the installed extension:**
   - Open: `%USERPROFILE%\.vscode\extensions\architecture-team.so-vsix-1.1.0\dist\extension.js`
   - Search for: `docs/03_architecture/diagrams/out`
   - Should find it in the parseScriptOutput function

## Files Included in VSIX

The packaged extension includes:
- ✅ Updated `dist/extension.js` with the fix
- ✅ `render-dsl-to-svg.cmd` script
- ✅ All assets and templates
- ✅ Documentation (including STRUCTURIZR-RENDERER-FIX.md)

Total size: 3.75 MB (under the 10MB limit)

---

**Next Step:** Install the VSIX and test the rendering command!
