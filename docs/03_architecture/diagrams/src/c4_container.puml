@startuml C4_Container
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

title Container Diagram - Sports Booking Platform

LAYOUT_WITH_LEGEND()

Person(player, "Player", "Discovers and books sports\nlessons, matches, tournaments")

Person(coach, "Coach", "Creates, publishes, and manages\nsports activities")

Person(venueOp, "Venue Operator", "Manages venues and\ntheir availability")

Person(admin, "Platform Administrator", "Manages platform configuration\nand oversight")

System_Boundary(sbp, "Sports Booking Platform") {

  Container(webApp, "Web App", "Browser", "Provides platform access\nfor players, coaches, and venue operators")

  Container(mobileApp, "Mobile App", "Mobile OS", "Provides platform access\nfor players, coaches, and venue operators")

  Container(adminConsole, "Admin Console", "Browser", "Provides platform administration\nand oversight capabilities")

  Container(backend, "Platform Backend", "API", "Exposes platform capabilities,\nenforces access control and business rules")

  Container_Boundary(domainServices, "Core Domain Services") {

    Container(bookingService, "Booking & Scheduling Service", "Logical Service", "Manages activity bookings,\nscheduling, and conflict resolution")

    Container(venueService, "Venue Management Service", "Logical Service", "Manages venues and\navailability schedules")

    Container(activityService, "Activity Management Service", "Logical Service", "Manages publication, discovery,\nand participation tracking")
  }

  Container(paymentAdapter, "Payment Integration Adapter", "Adapter", "Handles optional payment\nprocessing integration")

  Container(notificationAdapter, "Notification Integration Adapter", "Adapter", "Manages booking notifications,\nchanges, and cancellations")

  ContainerDb(dataStore, "Platform Data Store", "Logical Data Store", "Stores users, venues, activities,\nbookings, and participation history")
}

System_Ext(payment, "Payment Provider", "Processes optional payments\nfor activities")

System_Ext(notification, "Notification Service", "Sends notifications for bookings,\nchanges, and cancellations")

Rel(player, webApp, "uses")
Rel(player, mobileApp, "uses")

Rel(coach, webApp, "uses")
Rel(coach, mobileApp, "uses")

Rel(venueOp, webApp, "uses")
Rel(venueOp, mobileApp, "uses")

Rel(admin, adminConsole, "uses")

Rel(webApp, backend, "calls")
Rel(mobileApp, backend, "calls")
Rel(adminConsole, backend, "calls")

Rel(backend, bookingService, "delegates to")
Rel(backend, venueService, "delegates to")
Rel(backend, activityService, "delegates to")

Rel(bookingService, dataStore, "reads/writes")
Rel(venueService, dataStore, "reads/writes")
Rel(activityService, dataStore, "reads/writes")

Rel(backend, paymentAdapter, "uses (optional)")
Rel(paymentAdapter, payment, "integrates with")

Rel(backend, notificationAdapter, "uses")
Rel(notificationAdapter, notification, "integrates with")

@enduml
