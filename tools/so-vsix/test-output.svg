<svg id="test-diagram" width="100%" xmlns="http://www.w3.org/2000/svg" class="flowchart" style="max-width: 537.609375px;" viewBox="0 0 537.609375 836" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#test-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#test-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#test-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#test-diagram .error-icon{fill:#552222;}#test-diagram .error-text{fill:#552222;stroke:#552222;}#test-diagram .edge-thickness-normal{stroke-width:1px;}#test-diagram .edge-thickness-thick{stroke-width:3.5px;}#test-diagram .edge-pattern-solid{stroke-dasharray:0;}#test-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#test-diagram .edge-pattern-dashed{stroke-dasharray:3;}#test-diagram .edge-pattern-dotted{stroke-dasharray:2;}#test-diagram .marker{fill:#333333;stroke:#333333;}#test-diagram .marker.cross{stroke:#333333;}#test-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#test-diagram p{margin:0;}#test-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#test-diagram .cluster-label text{fill:#333;}#test-diagram .cluster-label span{color:#333;}#test-diagram .cluster-label span p{background-color:transparent;}#test-diagram .label text,#test-diagram span{fill:#333;color:#333;}#test-diagram .node rect,#test-diagram .node circle,#test-diagram .node ellipse,#test-diagram .node polygon,#test-diagram .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#test-diagram .rough-node .label text,#test-diagram .node .label text,#test-diagram .image-shape .label,#test-diagram .icon-shape .label{text-anchor:middle;}#test-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#test-diagram .rough-node .label,#test-diagram .node .label,#test-diagram .image-shape .label,#test-diagram .icon-shape .label{text-align:center;}#test-diagram .node.clickable{cursor:pointer;}#test-diagram .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#test-diagram .arrowheadPath{fill:#333333;}#test-diagram .edgePath .path{stroke:#333333;stroke-width:2.0px;}#test-diagram .flowchart-link{stroke:#333333;fill:none;}#test-diagram .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#test-diagram .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#test-diagram .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#test-diagram .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#test-diagram .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#test-diagram .cluster text{fill:#333;}#test-diagram .cluster span{color:#333;}#test-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#test-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#test-diagram rect.text{fill:none;stroke-width:0;}#test-diagram .icon-shape,#test-diagram .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#test-diagram .icon-shape p,#test-diagram .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#test-diagram .icon-shape rect,#test-diagram .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#test-diagram .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#test-diagram .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#test-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="test-diagram_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="test-diagram_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="test-diagram_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="test-diagram_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="test-diagram_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="test-diagram_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster " id="Frontend" data-look="classic"><rect style="" x="8" y="468" width="521.609375" height="360"></rect><g class="cluster-label " transform="translate(236.46875, 468)"><foreignObject width="64.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Frontend</p></span></div></foreignObject></g></g><g class="cluster " id="subGraph1" data-look="classic"><rect style="" x="91.67578125" y="186" width="354.4375" height="208"></rect><g class="cluster-label " transform="translate(210.80859375, 186)"><foreignObject width="116.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Streaming Layer</p></span></div></foreignObject></g></g><g class="cluster " id="subGraph0" data-look="classic"><rect style="" x="43.55859375" y="8" width="443.15625" height="104"></rect><g class="cluster-label " transform="translate(206.98046875, 8)"><foreignObject width="116.3125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Agent Execution</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M168.105,87L168.105,91.167C168.105,95.333,168.105,103.667,168.105,114C168.105,124.333,168.105,136.667,168.105,149C168.105,161.333,168.105,173.667,175.984,183.706C183.862,193.745,199.619,201.49,207.497,205.363L215.376,209.235" id="L_WE_SE_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_WE_SE_0" data-points="W3sieCI6MTY4LjEwNTQ2ODc1LCJ5Ijo4N30seyJ4IjoxNjguMTA1NDY4NzUsInkiOjExMn0seyJ4IjoxNjguMTA1NDY4NzUsInkiOjE0OX0seyJ4IjoxNjguMTA1NDY4NzUsInkiOjE4Nn0seyJ4IjoyMTguOTY1NTk0OTUxOTIzMSwieSI6MjExfV0=" marker-end="url(#test-diagram_flowchart-v2-pointEnd)"></path><path d="M379.684,87L379.684,91.167C379.684,95.333,379.684,103.667,379.684,114C379.684,124.333,379.684,136.667,379.684,149C379.684,161.333,379.684,173.667,371.805,183.706C363.927,193.745,348.17,201.49,340.292,205.363L332.413,209.235" id="L_LLM_SE_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_LLM_SE_0" data-points="W3sieCI6Mzc5LjY4MzU5Mzc1LCJ5Ijo4N30seyJ4IjozNzkuNjgzNTkzNzUsInkiOjExMn0seyJ4IjozNzkuNjgzNTkzNzUsInkiOjE0OX0seyJ4IjozNzkuNjgzNTkzNzUsInkiOjE4Nn0seyJ4IjozMjguODIzNDY3NTQ4MDc2OSwieSI6MjExfV0=" marker-end="url(#test-diagram_flowchart-v2-pointEnd)"></path><path d="M273.895,265L273.895,269.167C273.895,273.333,273.895,281.667,273.895,289.333C273.895,297,273.895,304,273.895,307.5L273.895,311" id="L_SE_SSE_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SE_SSE_0" data-points="W3sieCI6MjczLjg5NDUzMTI1LCJ5IjoyNjV9LHsieCI6MjczLjg5NDUzMTI1LCJ5IjoyOTB9LHsieCI6MjczLjg5NDUzMTI1LCJ5IjozMTV9XQ==" marker-end="url(#test-diagram_flowchart-v2-pointEnd)"></path><path d="M273.895,369L273.895,373.167C273.895,377.333,273.895,385.667,273.895,396C273.895,406.333,273.895,418.667,273.895,431C273.895,443.333,273.895,455.667,273.895,465.333C273.895,475,273.895,482,273.895,485.5L273.895,489" id="L_SSE_JSH_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SSE_JSH_0" data-points="W3sieCI6MjczLjg5NDUzMTI1LCJ5IjozNjl9LHsieCI6MjczLjg5NDUzMTI1LCJ5IjozOTR9LHsieCI6MjczLjg5NDUzMTI1LCJ5Ijo0MzF9LHsieCI6MjczLjg5NDUzMTI1LCJ5Ijo0Njh9LHsieCI6MjczLjg5NDUzMTI1LCJ5Ijo0OTN9XQ==" marker-end="url(#test-diagram_flowchart-v2-pointEnd)"></path><path d="M210.266,547L195.733,553.167C181.2,559.333,152.135,571.667,151.832,583.871C151.529,596.076,179.988,608.152,194.217,614.19L208.447,620.228" id="L_JSH_LV_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_JSH_LV_0" data-points="W3sieCI6MjEwLjI2NTU2Mzk2NDg0Mzc1LCJ5Ijo1NDd9LHsieCI6MTIzLjA3MDMxMjUsInkiOjU4NH0seyJ4IjoyMTIuMTI4OTA2MjUsInkiOjYyMS43OTA2ODE0MTIwMzI5fV0=" marker-end="url(#test-diagram_flowchart-v2-pointEnd)"></path><path d="M342.627,547L358.325,553.167C374.024,559.333,405.42,571.667,404.879,584.212C404.339,596.758,371.861,609.516,355.622,615.895L339.383,622.274" id="L_JSH_LV_2" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_JSH_LV_2" data-points="W3sieCI6MzQyLjYyNzE5NzI2NTYyNSwieSI6NTQ3fSx7IngiOjQzNi44MTY0MDYyNSwieSI6NTg0fSx7IngiOjMzNS42NjAxNTYyNSwieSI6NjIzLjczNjgzNzA1NzYzODh9XQ==" marker-end="url(#test-diagram_flowchart-v2-pointEnd)"></path><path d="M326.799,675L338.882,681.167C350.965,687.333,375.131,699.667,387.214,711.333C399.297,723,399.297,734,399.297,739.5L399.297,745" id="L_LV_WP_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_LV_WP_0" data-points="W3sieCI6MzI2Ljc5ODY0NTAxOTUzMTI1LCJ5Ijo2NzV9LHsieCI6Mzk5LjI5Njg3NSwieSI6NzEyfSx7IngiOjM5OS4yOTY4NzUsInkiOjc0OX1d" marker-end="url(#test-diagram_flowchart-v2-pointEnd)"></path><path d="M220.99,675L208.907,681.167C196.824,687.333,172.658,699.667,160.575,711.333C148.492,723,148.492,734,148.492,739.5L148.492,745" id="L_LV_MC_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_LV_MC_0" data-points="W3sieCI6MjIwLjk5MDQxNzQ4MDQ2ODc1LCJ5Ijo2NzV9LHsieCI6MTQ4LjQ5MjE4NzUsInkiOjcxMn0seyJ4IjoxNDguNDkyMTg3NSwieSI6NzQ5fV0=" marker-end="url(#test-diagram_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(168.10546875, 149)"><g class="label" data-id="L_WE_SE_0" transform="translate(-41.0703125, -12)"><foreignObject width="82.140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>step events</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(379.68359375, 149)"><g class="label" data-id="L_LLM_SE_0" transform="translate(-46.0703125, -12)"><foreignObject width="92.140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>token events</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_SE_SSE_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(273.89453125, 431)"><g class="label" data-id="L_SSE_JSH_0" transform="translate(-39.1171875, -12)"><foreignObject width="78.234375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>SSE stream</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(123.0703125, 584)"><g class="label" data-id="L_JSH_LV_0" transform="translate(-69.6484375, -12)"><foreignObject width="139.296875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>sse_step_execution</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(436.81640625, 584)"><g class="label" data-id="L_JSH_LV_2" transform="translate(-35.2734375, -12)"><foreignObject width="70.546875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>sse_token</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(399.296875, 712)"><g class="label" data-id="L_LV_WP_0" transform="translate(-45.90625, -12)"><foreignObject width="91.8125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>step updates</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(148.4921875, 712)"><g class="label" data-id="L_LV_MC_0" transform="translate(-50.90625, -12)"><foreignObject width="101.8125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>token updates</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default  " id="flowchart-WE-0" transform="translate(168.10546875, 60)"><rect class="basic label-container" style="" x="-89.546875" y="-27" width="179.09375" height="54"></rect><g class="label" style="" transform="translate(-59.546875, -12)"><rect></rect><foreignObject width="119.09375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Workflow Engine</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-LLM-1" transform="translate(379.68359375, 60)"><rect class="basic label-container" style="" x="-72.03125" y="-27" width="144.0625" height="54"></rect><g class="label" style="" transform="translate(-42.03125, -12)"><rect></rect><foreignObject width="84.0625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>LLM Service</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-SE-2" transform="translate(273.89453125, 238)"><rect class="basic label-container" style="" x="-77.859375" y="-27" width="155.71875" height="54"></rect><g class="label" style="" transform="translate(-47.859375, -12)"><rect></rect><foreignObject width="95.71875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Stream Event</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-SSE-3" transform="translate(273.89453125, 342)"><rect class="basic label-container" style="" x="-74.3359375" y="-27" width="148.671875" height="54"></rect><g class="label" style="" transform="translate(-44.3359375, -12)"><rect></rect><foreignObject width="88.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>SSE Manager</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-JSH-4" transform="translate(273.89453125, 520)"><rect class="basic label-container" style="" x="-75.296875" y="-27" width="150.59375" height="54"></rect><g class="label" style="" transform="translate(-45.296875, -12)"><rect></rect><foreignObject width="90.59375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>LlmSSE Hook</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-LV-5" transform="translate(273.89453125, 648)"><rect class="basic label-container" style="" x="-61.765625" y="-27" width="123.53125" height="54"></rect><g class="label" style="" transform="translate(-31.765625, -12)"><rect></rect><foreignObject width="63.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>LiveView</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-MC-6" transform="translate(148.4921875, 776)"><rect class="basic label-container" style="" x="-105.4921875" y="-27" width="210.984375" height="54"></rect><g class="label" style="" transform="translate(-75.4921875, -12)"><rect></rect><foreignObject width="150.984375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Messages Component</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-WP-7" transform="translate(399.296875, 776)"><rect class="basic label-container" style="" x="-95.3125" y="-27" width="190.625" height="54"></rect><g class="label" style="" transform="translate(-65.3125, -12)"><rect></rect><foreignObject width="130.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Workflow Progress</p></span></div></foreignObject></g></g></g></g></g></svg>